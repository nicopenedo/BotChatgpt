spring.application.name=bot-trading
spring.config.import=optional:file:.env[.properties]
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.open-in-view=false
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.show-sql=false
spring.cache.type=caffeine
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
management.endpoints.web.exposure.include=health,prometheus,metrics,info
management.endpoint.health.probes.enabled=true
management.metrics.export.prometheus.enabled=true
management.server.port=8080
logging.level.root=INFO
logging.level.com.bottrading=DEBUG
risk.max-daily-loss-pct=${RISK_MAX_DAILY_LOSS_PCT:3.0}
risk.max-drawdown-pct=${RISK_MAX_DRAWDOWN_PCT:8.0}
risk.max-api-error-pct=${RISK_MAX_API_ERROR_PCT:5.0}
risk.max-ws-reconnects-per-hour=${RISK_MAX_WS_RECONNECTS_PER_HOUR:6}
risk.force-close-on-pause=${RISK_FORCE_CLOSE_ON_PAUSE:true}
risk.max-openings-per-day=${RISK_MAX_OPENINGS_PER_DAY:10}
risk.max-trade-notional=${RISK_MAX_TRADE_NOTIONAL:0}
binance.base-url=${BINANCE_BASE_URL:https://testnet.binance.vision}
binance.api-key=${BINANCE_API_KEY:}
binance.api-secret=${BINANCE_API_SECRET:}
binance.stream-url=${BINANCE_STREAM_URL:}
trading.symbol=${TRADING_SYMBOL:BTCUSDT}
trading.symbols=${TRADING_SYMBOLS:BTCUSDT,ETHUSDT,BNBUSDT}
trading.live-enabled=${TRADING_LIVE_ENABLED:false}
trading.max-daily-loss-pct=${TRADING_MAX_DAILY_LOSS_PCT:2.0}
trading.max-drawdown-pct=${TRADING_MAX_DRAWDOWN_PCT:3.0}
trading.risk-per-trade-pct=${TRADING_RISK_PER_TRADE_PCT:0.25}
trading.cooldown-minutes=${TRADING_COOLDOWN_MINUTES:60}
trading.max-orders-per-minute=${TRADING_MAX_ORDERS_PER_MINUTE:5}
trading.min-volume-24h=${TRADING_MIN_VOLUME_24H:1000}
trading.dry-run=${TRADING_DRY_RUN:true}
trading.interval=${TRADING_INTERVAL:1m}
trading.mode=${TRADING_MODE:websocket}
trading.trading-hours=${TRADING_TRADING_HOURS:00:00-23:59}
trading.jitter-seconds=${TRADING_JITTER_SECONDS:2}
trading.poll-delay-ms=${TRADING_POLL_DELAY_MS:1500}
trading.router.enabled=${ROUTER_ENABLED:true}
trading.allocator.enabled=${ALLOCATOR_ENABLED:true}
trading.allocator.max-simultaneous=${ALLOCATOR_MAX_SIMULTANEOUS:2}
trading.allocator.per-symbol.max-risk-pct=${ALLOCATOR_PER_SYMBOL_MAX_RISK_PCT:0.5}
trading.allocator.portfolio.max-total-risk-pct=${ALLOCATOR_PORTFOLIO_MAX_TOTAL_RISK_PCT:1.0}
trading.allocator.corr.lookback-days=${ALLOCATOR_CORR_LOOKBACK_DAYS:30}
trading.allocator.corr.max-pairwise=${ALLOCATOR_CORR_MAX_PAIRWISE:0.85}
trading.drift.enabled=${DRIFT_ENABLED:true}
trading.drift.window.trades=${DRIFT_WINDOW_TRADES:50}
trading.drift.threshold.pf.drop=${DRIFT_THRESHOLD_PF_DROP:0.35}
trading.drift.threshold.maxdd.pct=${DRIFT_THRESHOLD_MAXDD_PCT:8}
trading.drift.expected-profit-factor=${DRIFT_EXPECTED_PF:1.5}
trading.drift.expected-win-rate=${DRIFT_EXPECTED_WINRATE:0.55}
trading.drift.actions-auto-downgrade=${ACTIONS_AUTO_DOWNGRADE:true}
trading.health.enabled=${HEALTH_ENABLED:true}
trading.health.ws.max-reconnects-per-hour=${HEALTH_WS_MAX_RECONNECTS_PER_HOUR:6}
trading.health.api.max-error-rate-pct=${HEALTH_API_MAX_ERROR_RATE_PCT:5}
trading.health.api.latency-threshold-ms=${HEALTH_API_LATENCY_THRESHOLD_MS:500}
trading.tca.enabled=${TCA_ENABLED:true}
trading.tca.history-size=${TCA_HISTORY_SIZE:5000}
stop.mode=${STOP_MODE:percent}
stop.sl-pct=${STOP_SL_PCT:0.6}
stop.tp-pct=${STOP_TP_PCT:1.2}
stop.atr-period=${STOP_ATR_PERIOD:14}
stop.sl-atr-mult=${STOP_SL_ATR_MULT:1.5}
stop.tp-atr-mult=${STOP_TP_ATR_MULT:3.0}
stop.trailing.enabled=${STOP_TRAILING_ENABLED:true}
stop.trailing.pct=${STOP_TRAILING_PCT:0.5}
stop.trailing.atr-mult=${STOP_TRAILING_ATR_MULT:1.0}
stop.breakeven.enabled=${STOP_BREAKEVEN_ENABLED:true}
stop.breakeven.trigger-pct=${STOP_BREAKEVEN_TRIGGER_PCT:0.4}

sizing.min-notional-buffer-pct=${SIZING_MIN_NOTIONAL_BUFFER_PCT:1.5}
sizing.iceberg.enabled=${SIZING_ICEBERG_ENABLED:false}
sizing.slippage.model=${SIZING_SLIPPAGE_MODEL:atr}
sizing.slippage.fixed-bps=${SIZING_SLIPPAGE_FIXED_BPS:2}

shadow.enabled=${SHADOW_ENABLED:true}
shadow.slippage-bps=${SHADOW_SLIPPAGE_BPS:2}
shadow.divergence.pct-threshold=${SHADOW_DIVERGENCE_PCT:15}
shadow.divergence.min-trades=${SHADOW_DIVERGENCE_MIN_TRADES:10}

fees.cache-minutes=${FEES_CACHE_MINUTES:30}
fees.pay-with-bnb=${FEES_PAY_WITH_BNB:true}
fees.bnb.min-days-buffer=${FEES_BNB_MIN_DAYS:7}
fees.bnb.min-topup-bnb=${FEES_BNB_MIN_TOPUP:0.05}
fees.bnb.max-topup-bnb=${FEES_BNB_MAX_TOPUP:0.2}

telegram.enabled=${TELEGRAM_ENABLED:false}
telegram.bot-token=${TELEGRAM_BOT_TOKEN:}
telegram.chat-id=${TELEGRAM_CHAT_ID:}
binance.userdatastream.keepalive-minutes=${BINANCE_USERDATASTREAM_KEEPALIVE_MINUTES:30}
oco.client-emulation.enabled=${OCO_CLIENT_EMULATION_ENABLED:true}
reconcile.on-startup=${RECONCILE_ON_STARTUP:true}
reconcile.scan-minutes=${RECONCILE_SCAN_MINUTES:1440}
positions.lock-timeout-ms=${POSITIONS_LOCK_TIMEOUT_MS:3000}
exec.default.type=${EXEC_DEFAULT:LIMIT}
exec.limit.ttl-ms=${EXEC_LIMIT_TTL_MS:4000}
exec.limit.buffer-bps=${EXEC_LIMIT_BUFFER_BPS:2}
exec.limit.max-retries=${EXEC_LIMIT_MAX_RETRIES:1}
exec.limit.spread-threshold-bps=${EXEC_LIMIT_SPREAD_THRESHOLD_BPS:5}
exec.twap.slices=${EXEC_TWAP_SLICES:5}
exec.twap.window-sec=${EXEC_TWAP_WINDOW_SEC:20}
exec.pov.target-pct=${EXEC_POV_TARGET_PCT:0.10}
exec.pov.reassess-interval-sec=${EXEC_POV_REASSESS_INTERVAL_SEC:60}
exec.metrics.cleanup-ms=${EXEC_METRICS_CLEANUP_MS:600000}
exec.metrics.ttl-ms=${EXEC_METRICS_TTL_MS:1800000}
ui.grafana-url=${UI_GRAFANA_URL:http://localhost:3000/dashboards}
